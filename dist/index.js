(()=>{var e={484:e=>{e.exports={injectVariablesToHTML:(e,o,t)=>{const n=document.createElement("div");return n.innerHTML=e,n.querySelector(o).innerHTML=`${t}`,n.innerHTML}}}},o={};function t(n){var a=o[n];if(void 0!==a)return a.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(()=>{"use strict";const e='<div class="full_height_overlay_modal"> <div class="go-back-header"> <h4 class="go-back-header-heading"><img class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"></h4> </div> <div class="content"> </div> </div> ',o='<div> <div class="top-head"> <div class="top-head-tabs"> <p class="active-tab" id="available-coupons-screen">Available</p> <p id="your-coupons-screen">Your Coupons</p> </div> <div class="top-head-points"> <span class="coins-icon"></span> <p class="points-wrapper">0</p> </div> </div> <div class="couponCodes"> <div class="cardContainer"> <div class="tabHead"> <div class="active-coupons-tab" id="coupon-tab-unlocked">Unlocked</div> <div id="coupon-tab-redeemed">Redeemed</div> <div id="coupon-tab-gifted">Gifted</div> </div> </div> <div class="cardContainer"> <div class="couponsContent"> </div> </div> </div> </div>',n='<div> <div class="top-head"> <div class="top-head-tabs"> <p class="active-tab" id="available-coupons-screen">Available</p> <p id="your-coupons-screen">Your Coupons</p> </div> <div class="top-head-points"> <span class="coins-icon"></span> <p class="points-wrapper">0</p> </div> </div> <div class="spinWheels"> <div class="cardContainer cardRow"> <div class="gameArenacard"> <img src="https://earthrhythm-media.farziengineer.co/hosted/image_12-c828ac1ec3c5.png"/> <div class="gameArenaDesc"> <p class="gameArenaDesc-title">Spin and Win</p> <p class="gameArenaDesc-subtitle">Win upto 50 OB Coins</p> <div class="gameArenaDescValue"><span class="coins-icon"></span> <p>10</p> </div> <div class="gameArenaBtn">Spin</div> </div> </div> </div> </div> </div> <div class="overlay_modal"> </div>';function a(e,o,t,n){!function(){const a=e.querySelector("#fw-chart-spin-wheel");var i=a.offsetWidth-0-40,s=a.offsetWidth-20-0,r=Math.min(i,s)/2,c=0,d=0,l=1e5,p=[],_=d3.scale.category20(),h=d3.select(a).append("svg").data([o]).attr("width",i+0+40).attr("height",s+20+0),u=h.append("g").attr("class","chartholder").attr("transform","translate("+(i/2+0)+","+(s/2+20)+")"),f=u.append("g"),v=d3.layout.pie().sort(null).value((function(e){return 1})),g=d3.svg.arc().outerRadius(r),m=f.selectAll("g.slice").data(v).enter().append("g").attr("class","slice");function y(e){var o=d3.interpolate(d%360,c);return function(e){return"rotate("+o(e)+")"}}m.append("path").attr("fill",(function(e,o){return _(o)})).attr("d",(function(e){return g(e)})),t&&u.on("click",(function t(a){u.on("click",null);var i=360/o.length,s=(Math.round(1440/o.length),Math.floor(1440*Math.random()+360));c=Math.round(s/i)*i,l=(l=Math.round(o.length-c%360/i))>=o.length?l%o.length:l,-1===p.indexOf(l)?(p.push(l),c+=90-Math.round(i/2),f.transition().duration(3e3).attrTween("transform",y).each("end",(function(){d3.select(".slice:nth-child("+(l+1)+") path").attr("fill","#111"),d3.select("#question h1").text(o[l].question),d=c,m.append("text").attr("transform",(function(o,t){if(o.innerRadius=0,o.outerRadius=r,o.angle=(o.startAngle+o.endAngle)/2,t===l){var n=document.createElement("style");n.innerHTML=`text[text-anchor="end"] {\n                                    transform: ${"rotate("+(180*o.angle/Math.PI-90)+"deg)translate("+(o.outerRadius-30)+"px,40px)rotateZ(90deg)"};\n                                }`,e.querySelector("#fw-chart-spin-wheel").appendChild(n)}return"rotate("+(180*o.angle/Math.PI-90)+")translate("+(o.outerRadius-20)+")"})).attr("text-anchor","end").text((function(e,t){return t===l?o[t].label:""})),n()}))):d3.select(this).call(t)})),h.append("g").attr("transform","translate("+(i+0+40)+","+(s/2+20)+")").append("path").attr("d","M-"+.15*r+",0L0,"+.05*r+"L0,-"+.05*r+"Z").style({fill:"black"}),u.append("circle").attr("cx",0).attr("cy",0).attr("r",60).style({fill:"white",cursor:"pointer"}),u.append("text").attr("x",0).attr("y",15).attr("text-anchor","middle").text("SPIN").style({"font-weight":"bold","font-size":"30px",transform:"rotate(90deg)"})}()}var i=t(484);!function(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap",document.head.appendChild(e)}();const s=document.createElement("div");s.style.display="block",s.style.all="initial";const r=s.attachShadow({mode:"open"});var c,d,l;r.innerHTML='\n<link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet"> <div class="fw_points XXsnipcss_extracted_selector_selectionXX tether-target-attached-top tether-element-attached-top tether-element-attached-center tether-target-attached-center"> <div id="card-container" class="fw_points__overlay show_overlay" style="display:none"> <div class="header"> <img id="header-close" class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"> <div class=""> <h1 class="heading">Login to access</h1> <p>fw Wallet</p> </div> </div> <div class="content"> <div class="cardWrapper"> <h1 class="">Become a part of the fw Family</h1> <p class="">Earn wallet points every time you purchase. Unlock exciting discounts.</p> <a class="joinBtn" target="_blank" rel="noopener noreferrer" href="/account/register"> Join now </a> <p class="">Already have an account? <a href="/account/login" class="">Sign in</a></p> </div> <div class="cardWrapper"> <h1 class="">wallet points</h1> <p class="">Earn more wallet points for different actions, and turn those wallet points into awesome rewards!</p> <div class="dropDown"> <div class="dropDown__content"> <p class="">way to earn </p> </div> <div class=""> <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg" class=""> <circle cx="17" cy="17" r="17" fill="white"></circle> <path d="M14 11C14.3 11.3 18.125 15.125 20 17L14 23" stroke="#2C2C2C" stroke-width="2" stroke-linecap="round"></path> </svg> </div> </div> <div class="dropDown"> <div class="dropDown__content"> <p class="">way to redeem </p> </div> <div class=""> <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg" class=""> <circle cx="17" cy="17" r="17" fill="white"></circle> <path d="M14 11C14.3 11.3 18.125 15.125 20 17L14 23" stroke="#2C2C2C" stroke-width="2" stroke-linecap="round"></path> </svg> </div> </div> </div> </div> <div class="powered-by-content"> <span class="powered-by-content__text">powered By</span> <div class="scss_ImageWrapper___u3k0" style="display:flex;align-items:center;justify-content:center"> <img src="https://wowshopify.farziengineer.co/felogo.png" style="width:5rem"> </div> </div> </div> <div id="widget-container" class="fw_points__gifting"> <div class="scss_ImageWrapper___u3k0" style="display:flex;align-items:center;justify-content:center"> <img src="https://wowshopify.farziengineer.co/wallet4.png"> </div> </div> </div> <style>@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&display=swap);*{padding:0;margin:0;box-sizing:border-box}#widget-img{position:absolute;inset:0px;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:50%;max-width:50%;min-height:50%;max-height:50%}#widget-button{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:3px;cursor:pointer}.fw_points{-ms-flex-align:end;align-items:flex-end;-ms-flex-direction:column;flex-direction:column;position:fixed;bottom:2%;right:3%;z-index:3;display:-ms-flexbox;display:flex;font-family:Inter,sans-serif;color:#373737}.fw_points__overlay{max-width:350px;max-height:580px;width:85vw;height:80vh;position:relative;bottom:85%;right:18%;-webkit-transition:all .5s;transition:all .5s;-webkit-box-shadow:0 .0625em .0625em rgba(0,0,0,.25),0 .125em .5em rgba(0,0,0,.25),inset 0 0 0 1px hsla(0,0%,100%,.1);box-shadow:0 .0625em .0625em rgba(0,0,0,.25),0 .125em .5em rgba(0,0,0,.25),inset 0 0 0 1px hsla(0,0%,100%,.1);border-radius:15px;background-color:#fff;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.fw_points__overlay::-webkit-scrollbar{display:none}.fw_points__overlay .powered-by-content{-ms-flex-pack:center;justify-content:center;display:-ms-flexbox;display:flex;padding:.5rem;font-size:1rem;text-transform:capitalize;text-align:center;z-index:2;background-color:#fff;-webkit-box-shadow:0 2px 4px 0 rgba(14,30,37,.12),0 2px 16px 0 rgba(14,30,37,.32);box-shadow:0 0 4px 0 rgba(14,30,37,.12),0 2px 16px rgba(14,30,37,.32);bottom:0;left:0;width:100%}.fw_points__overlay .powered-by-content__text{margin-right:.5rem}.fw_points__overlay .close{position:absolute;right:.8rem;top:10px;cursor:pointer;z-index:999}.fw_points__overlay .fixedHeader{background:#fff;padding:1rem;position:sticky;top:0}.fw_points__overlay .heading{line-height:1;font-size:12px;color:#0c0c0c;margin:5px;font-weight:600}.fw_points__overlay .wallet-amount{font-size:1rem}.fw_points__overlay .header{background:#fff;width:100%;z-index:2;padding:14px;height:auto;-ms-flex-pack:start;justify-content:flex-start;align-items:baseline}.fw_points__overlay .header p{color:#0c0c0c;font-size:20px;font-weight:600;margin:0 5px}.fw_points__overlay .content{grid-gap:3rem;gap:2.5rem;padding-bottom:2rem;min-height:19.5rem}.fw_points__overlay .content,.fw_points__overlay .content .cardWrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.fw_points__overlay .content .cardWrapper{z-index:2;background-color:#fff;-webkit-box-shadow:0 2px 4px 0 rgba(14,30,37,.12),0 2px 16px 0 rgba(14,30,37,.32);box-shadow:0 2px 4px 0 rgba(14,30,37,.12),0 2px 16px 0 rgba(14,30,37,.32);width:90%;margin:-2rem auto 0;border-radius:4px;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;padding:1rem;-ms-flex-align:center;align-items:center;grid-gap:.8rem;gap:.8rem}.fw_points__overlay .content .cardContainer{z-index:2;background-color:#fff;padding:6px 20px;border-radius:4px;-ms-flex-align:center;align-items:center;gap:16px}.fw_points__overlay .content .cardWrapper.points{background-color:#000;padding:1.2rem 1.3rem;border-radius:16px;box-shadow:none;margin:0 14px;width:auto}.fw_points__overlay .content .cardWrapper.points p{color:#fff;font-size:14px;font-weight:600}.fw_points__overlay .content .cardWrapper.points p.tier{color:#fff;font-size:10px;font-weight:400;margin-top:5px}.fw_points__overlay .content .cardWrapper.points .pointsBox{background-color:#fff;border-radius:4px;margin:0 6px;padding:.5rem 1rem;display:flex;justify-content:center;align-items:center}.fw_points__overlay .content .cardWrapper.points .pointsBox p{color:#000;font-weight:600;font-size:20px;padding:0 0 0 8px}.fw_points__overlay .content .cardWrapper.points .pointsBox span{background:url("https://earthrhythm-media.farziengineer.co/hosted/Group_5-6eddfdbfd949.png");display:block;width:20px;height:20px;background-size:100% 100%}.fw_points__overlay .content .cardWrapper h1{font-size:1.3rem;color:#000;font-weight:600;line-height:1.2}.fw_points__overlay .content .cardWrapper p{font-size:1.4rem;color:#637381;line-height:1.3;text-align:left;padding:0 1rem;margin:0}.fw_points__overlay .content .cardWrapper a{color:#000;width:100%}.fw_points__overlay .content .cardWrapper .joinBtn{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.5rem 1rem;background-color:#000;color:#fff;border-radius:8px}.fw_points__overlay .content .cardWrapper .dropDown{width:100%;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:5px;position:relative;cursor:pointer}.fw_points__overlay .content .cardWrapper .dropDown,.fw_points__overlay .content .cardWrapper .dropDown__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fw_points__overlay .content .cardWrapper .removeBanner{border:0!important;cursor:default}.fw_points__overlay .content .card_blocked{opacity:.5}.fw_points__overlay .content .refer-sub-section__referal-link{width:100%}.fw_points__overlay .content .refer-sub-section__referral-section{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;width:100%;padding:7px;border-radius:4px}.fw_points__overlay .content .refer-sub-section__referral-section__heading{font-size:1rem!important}.fw_points__overlay .content .refer-sub-section__referral-section__numberReferral{padding:0!important;margin-top:.4rem;font-size:.8rem!important}.fw_points__overlay .content .refer-sub-section__referral-section:hover{background-color:#fafafa}.fw_points__overlay .content .refer-sub-section__refer-link-section__text-content{font-size:.8rem!important}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper{display:-ms-flexbox;display:flex;height:2.5rem;border-radius:10px;padding:.2rem .5rem;border:1px solid #e6e6e6;color:#637381;margin-top:1rem}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper__refer-link{height:100%;border:none;outline:0;-ms-flex:1 1;flex:1 1}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper__refer-copy{position:relative;display:-ms-flexbox;display:flex;height:100%;padding:.5rem;border-radius:4px}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper__refer-copy:hover{background-color:#fafafa}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper__refer-copy:hover .tooltiptext{visibility:visible}.fw_points__overlay .content .refer-sub-section__refer-link-section__link-wrapper__refer-copy .tooltiptext{visibility:hidden;width:67px;background-color:#000;color:#fff;text-align:center;padding:5px 0;border-radius:6px;position:absolute;z-index:1;top:-96%;right:-30%;opacity:.8}@media(max-width:720px){.fw_points__overlay{right:12%}}.fw_points .show_overlay{opacity:1;overflow-x:hidden}.fw_points .hide_overlay{opacity:0;display:none}.fw_points__gifting{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:60px;height:60px;border-radius:50%;background-color:#000;padding:1rem;cursor:pointer;-webkit-box-shadow:0 .0625em .0625em rgba(0,0,0,.25),0 .125em .5em rgba(0,0,0,.25),inset 0 0 0 1px hsla(0,0%,100%,.1);box-shadow:0 .0625em .0625em rgba(0,0,0,.25),0 .125em .5em rgba(0,0,0,.25),inset 0 0 0 1px hsla(0,0%,100%,.1)}.fw_points__gifting img{width:85%}@media(max-width:720px){.fw_points__gifting{width:50px;height:50px;padding:.8rem;z-index:3}}.fw_points .joinBtn{padding:.5rem 1rem;background-color:#000;color:#fff;border-radius:8px;cursor:pointer}.fw_points .cardWrapper.coverFullScreen{position:absolute;top:32px;bottom:0;right:0;width:100%!important;-ms-flex-align:start!important;align-items:flex-start!important;height:150%!important;padding-bottom:1rem!important}.fw_points .cardWrapper.coverFullScreen h1{margin-bottom:1rem;font-size:1.2rem!important;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fw_points .cardWrapper.coverFullScreen .banner-message{background-color:#f4f6fb;padding:16px;margin:.5rem auto 0}.fw_points .cardWrapper.coverFullScreen.h-100{height:100%!important}.fw_points .join_bottom{background-color:#fff;position:fixed;bottom:75px;height:8rem;padding:2rem 0;z-index:2;width:315px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}.fw_points .join_bottom .joinBtn{width:70%;text-align:center;margin-bottom:1rem}.header{display:flex}.fw_points .go-back-header .go-back-header-heading{font-size:1.6rem;padding:0 1rem;font-weight:600;margin:1rem 0;cursor:pointer}.content{font-size:13px}.content,.title{margin-bottom:2.5px}.fw_points .rowHead{display:flex;justify-content:space-between;align-items:center}.fw_points .rowHead .viewAllCoupons{cursor:pointer;font-weight:400;font-size:12px}.fw_points .rowHead p{font-size:20px;font-weight:700;margin:0}.fw_points__overlay .content .cardContainer.cardRow{display:flex;overflow-x:auto}.fw_points__overlay .content .cardContainer.cardRow::-webkit-scrollbar{display:none}.fw_points__overlay .content .cardContainer.cardRow{-ms-overflow-style:none;scrollbar-width:none}.fw_points__overlay .content .cardContainer.cardRow .card{border-radius:12px;color:#000;font-size:1.4rem;line-height:2rem;cursor:pointer}.fw_points__overlay .content .cardContainer.cardRow .card img{display:block;width:100%;border-radius:8px}.fw_points__overlay .content .cardContainer.cardRow .card .couponDesc{padding:8px;background:#f4f4f4;border-radius:8px;box-shadow:0 -4px 10px rgba(0,0,0,.1);position:relative;top:-12px;min-width:120px}.fw_points__overlay .content .cardContainer.cardRow .card .couponDesc .floating-label{position:absolute;top:-15px;right:10px;background:#000;color:#fff;width:40px;height:24px;text-align:center;line-height:24px;font-weight:600;font-size:12px;border-radius:4px}.fw_points__overlay .content .cardContainer.cardRow .card .couponDesc .couponDesc-text{font-size:13px;font-weight:500}.fw_points__overlay .content .cardContainer.cardRow .card .couponDesc p{font-size:14px;font-weight:400;margin:0}.fw_points__overlay .content .cardContainer.cardRow .card .couponValue{font-size:14px;margin-top:9px;font-weight:400;display:flex;align-items:center}.fw_points__overlay .content .cardContainer.cardRow .card .couponValue .coins-icon{background:url("https://earthrhythm-media.farziengineer.co/hosted/Group_5-6eddfdbfd949.png");display:block;width:14px;height:14px;background-size:100% 100%;margin-right:4px}.fw_points__overlay .content .dropDown__content .pointsRow{background:#f4f4f4;margin:0 1rem;padding:0 1rem;border-radius:12px}.fw_points__overlay .content .dropDown__content .pointsRow .pointsRow_reason{display:flex;justify-content:space-between;font-size:1.6rem}.fw_points__overlay .content .dropDown__content .pointsRow .pointsRow_reason .pointsRow_reason_title{font-weight:600}.fw_points__overlay .pointsActivityContainer h4{margin:1rem;font-size:2rem}.fw_points__overlay .overlay_modal{width:100%;height:0%;position:absolute;bottom:0;left:0;background:#fff;transition:all .5s ease;box-shadow:0 -4px 50px rgba(0,0,0,.25);border-radius:12px;z-index:99}.fw_points__overlay .overlay_modal .unlock-coupon-card{padding:22px}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-button-container{text-align:center}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-heading{margin:0;display:flex;align-items:center}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-heading img{width:62px;height:62px}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-heading .heading-text{font-weight:700;font-size:30px;margin:0;margin-left:14px}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-title{font-weight:700;font-size:16px;margin:16px 0}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-desc{font-weight:400;font-size:14px;margin-bottom:22px}.fw_points__overlay .overlay_modal .unlock-coupon-card hr{border:none;height:1px;background:repeating-linear-gradient(90deg,#000,#000 6px,transparent 6px,transparent 12px)}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-text{font-weight:700;font-size:16px;margin:22px}.fw_points__overlay .overlay_modal .unlock-coupon-card .unlock-button{background:#000;color:#fff;padding:11px 0;border-radius:8px;font-family:Inter,sans-serif;font-weight:700;cursor:pointer;width:100%;font-size:14px}.fw_points__overlay .overlay_modal .unlock-coupon-card .revealed-code{padding:12px;background:#faa;border-radius:4px;border:1px dashed #000;font-size:16px;font-weight:700;display:flex;align-items:center;position:relative}.fw_points__overlay .overlay_modal .unlock-coupon-card .revealed-code img{display:block;max-width:16px;cursor:pointer}.fw_points__overlay .overlay_modal .unlock-coupon-card .revealed-code p{margin:0;width:90%}.fw_points__overlay .overlay_modal .unlock-coupon-card .revealed-code .copied-alert{position:absolute;right:40%;bottom:75%;background:#0f9800;color:#fff;width:auto;padding:1px 1px;border-radius:12px;font-weight:500;transition:all .5s ease;font-size:14px;display:none}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer h4{font-weight:700;font-size:20px;margin:2px 20px}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head{padding:0 20px;display:flex;align-items:center;justify-content:space-between;margin-top:12px;margin-bottom:10px}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-tabs{display:flex;justify-content:center;align-items:center;font-weight:700;font-size:19px;color:#959595}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-tabs p{cursor:pointer}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-tabs p:first-child{margin-right:5px}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-tabs .active-tab{color:#373737;border-bottom:2px solid #373737;cursor:auto}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-points{padding:8px 10px;background:#000;border-radius:44px;color:#fff;font-weight:400;font-size:20px;display:flex;justify-content:center;align-items:center}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-points .points-wrapper{margin:0}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .top-head .top-head-points .coins-icon{background:url("https://earthrhythm-media.farziengineer.co/hosted/Group_5_1-22b94ce0ffe0.png");display:block;width:16px;height:16px;background-size:100% 100%;margin-right:4px}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .tabHead{display:flex;justify-content:space-between;align-items:center}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .tabHead>div{background:#d9d9d9;border-radius:8px;padding:8px;font-weight:700;font-size:14px;cursor:pointer}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer .tabHead>div:hover{background:#ff8f8f}.fw_points__overlay .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab{background:#ff8f8f}.fw_points__overlay .overlay_modal_backdrop{width:100%;height:100%;position:absolute;top:0;left:0;background:#fff;opacity:.6;z-index:9}.fw_points__overlay .couponsScreenContainer .couponCodes{margin-bottom:10px}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins{margin-bottom:20px}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins .redeemCustomCoinsCard{background:#f4f4f4;border-radius:8px;display:flex;align-items:center;padding:16px;justify-content:center}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins .redeemCustomCoinsCard .redeemCustomCoinsImg{width:60px;margin-right:12px}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins .redeemCustomCoinsCard .redeemCustomCoinsText h5{margin:0;font-weight:700;font-size:16px}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins .redeemCustomCoinsCard .redeemCustomCoinsText p{margin:0;margin-top:8px;font-weight:400;font-size:12px}.fw_points__overlay .couponsScreenContainer .redeemCustomCoins .redeemCustomCoinsCard .redeemCustomArrow{position:relative;bottom:15px;width:10px}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard{display:flex;background:#f4f4f4;border-radius:8px;width:100%;padding:16px;align-items:center}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsImg{border-right:1px dashed #959595;padding-right:8px;margin-right:8px}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsImg img{width:64px}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsText h5{font-weight:700;font-size:14px;margin:0}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsText p{font-weight:700;font-size:12px;margin:0;margin-top:24px;display:flex;justify-content:flex-start;align-items:center}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsText{display:flex;flex-direction:column;justify-content:space-between}.fw_points__overlay .couponsScreenContainer .redeemCoins .redeemCoinsCard .redeemCoinsText .coins-icon{background:url("https://earthrhythm-media.farziengineer.co/hosted/Group_5-6eddfdbfd949.png");display:block;width:12px;height:12px;background-size:100% 100%;margin-right:4px;margin-left:4px}.fw_points__overlay .couponsScreenContainer .redeemCoins .cardContainer.cardRow{padding:10px 20px}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard{display:flex;background:#f4f4f4;border-radius:8px;margin-bottom:15px}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentImg{border-right:1px dashed #959595;padding:18px;display:flex;flex-direction:column;justify-content:center;align-items:center}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentImg h5{margin:0;font-size:24px}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentImg p{margin:0;font-size:14px}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentText{padding:14px;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentText h5{margin:0;font-size:13px}.fw_points__overlay .couponsScreenContainer .cardContainer .couponsContent .couponsContentCard .couponsContentText p{margin:0;font-size:12px}.fw_points__overlay .couponsScreenContainer .couponCodes .couponsContent .no-coupons-found{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px}.fw_points__overlay .couponsScreenContainer .couponCodes .couponsContent .no-coupons-found img{max-width:130px}.fw_points__overlay .couponsScreenContainer .couponCodes .couponsContent .no-coupons-found h5{margin:10px;font-weight:700;font-size:20px}.fw_points__overlay .couponsScreenContainer .couponCodes .couponsContent .no-coupons-found p{font-weight:400;font-size:12px;margin:10px}.fw_points .fw_points__overlay .content .gameArena .rowHead{flex-direction:column;align-items:flex-start}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard{display:flex;flex-direction:column;justify-content:center;align-items:center}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard img{max-width:90px;display:block;z-index:99}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc{background:#f4f4f4;border-radius:8px;display:flex;flex-direction:column;align-items:center;padding:8px;padding-top:30px;position:relative;top:-20px;z-index:9;min-width:120px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaDesc-title{font-weight:700;font-size:12px;margin-bottom:8px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaDesc-subtitle{font-weight:500;font-size:10px;margin-bottom:8px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaDescValue{background:#fff;border-radius:4px;padding:6px 14px;display:flex;justify-content:center;align-items:center;margin-bottom:8px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaDescValue p{font-weight:400;font-size:14px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaDescValue .coins-icon{background:url("https://earthrhythm-media.farziengineer.co/hosted/Group_5-6eddfdbfd949.png");display:block;width:14px;height:14px;background-size:100% 100%;margin-right:4px}.fw_points__overlay .content .cardContainer.cardRow .gameArenacard .gameArenaDesc .gameArenaBtn{background:#000;border-radius:4px;font-weight:700;font-size:12px;text-align:center;color:#fff;width:100%;padding:8px;cursor:pointer}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer.playArea{position:relative}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer.playArea .top-head{justify-content:center}.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer.playArea .scratchCardHeading,.fw_points__overlay .full_height_overlay_modal .couponsScreenContainer.playArea .spinWheelHeading{text-align:center;font-weight:700;font-size:20px}</style>\n',document.body.appendChild(s),c=r.getElementById("widget-container"),d=r.getElementById("card-container"),l=r.getElementById("header-close"),c.addEventListener("click",(function(){"none"===d.style.display?d.style.display="block":d.style.display="none"})),l.addEventListener("click",(function(){"none"===d.style.display?d.style.display="block":d.style.display="none"})),window.onload=async function t(){const s=document.querySelector("#fc-wallet-19212"),c=s.getAttribute("data-customer-id"),d=s.getAttribute("data-customer-tag")?.trim();if(c&&d){const l=await fetch("http://localhost:3000/walletlogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),_=p?.data?.data?.wallet?.amount,h=await fetch("http://localhost:3000/get-featured-coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),u=await h.json(),f=u?.data;let v=(0,i.injectVariablesToHTML)('<div class="header"> <img id="header-close" class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"> <div class=""> <h1 class="heading">Welcome to</h1> <p>One Loyalty</p> </div> </div> <div class="content"> <div class="cardWrapper points"> <div class="dropDown"> <div class="dropDown__content"> <div> <p class="">My Reward OB Coins </p> <p class="tier">Silver </p> </div> </div> <div class="pointsBox"> <span></span> <p class="walletAmount"></p> </div> </div> </div> <div class="couponCodes"> <div class="cardContainer"> <div class="rowHead"> <p>Coupons</p> <div class="viewAllCoupons">View all</div> </div> </div> <div class="cardContainer cardRow"> </div> </div> <div class="gameArena"> <div class="cardContainer"> <div class="rowHead"> <p>Game Arena</p> <div class="subtext">Play games to win OB coins, coupons & rewards</div> </div> </div> <div class="cardContainer cardRow"> <div class="gameArenacard" id="gameArenacard-wheelOfFortune"> <img src="https://earthrhythm-media.farziengineer.co/hosted/image_12-c828ac1ec3c5.png"/> <div class="gameArenaDesc"> <p class="gameArenaDesc-title">Wheel of Fortune</p> <p class="gameArenaDesc-subtitle">Starts at</p> <div class="gameArenaDescValue"><span class="coins-icon"></span> <p>10</p> </div> <div class="gameArenaBtn">Explore</div> </div> </div> <div class="gameArenacard" id="gameArenacard-scratchCard"> <img src="https://earthrhythm-media.farziengineer.co/hosted/image_8-2521d8ecabc7.png"/> <div class="gameArenaDesc"> <p class="gameArenaDesc-title">Scratch Card</p> <p class="gameArenaDesc-subtitle">Starts at</p> <div class="gameArenaDescValue"> <p>FREE</p> </div> <div class="gameArenaBtn">Explore</div> </div> </div> <div class="gameArenacard" id="gameArenacard-lottery"> <img src="https://earthrhythm-media.farziengineer.co/hosted/image_10-18d83e52d14a.png"/> <div class="gameArenaDesc"> <p class="gameArenaDesc-title">Lottery</p> <p class="gameArenaDesc-subtitle">Starts at</p> <div class="gameArenaDescValue"><span class="coins-icon"></span> <p>10</p> </div> <div class="gameArenaBtn">Explore</div> </div> </div> </div> </div> </div> <div class="overlay_modal"> </div>',".pointsBox .walletAmount",_),g="";function m(){r.querySelectorAll(".fw_points__overlay .content .couponCodes .cardContainer.cardRow .card").forEach((e=>{e.addEventListener("click",(function(e){const o=e.target.getAttribute("data-coupon-idx"),t=o&&f[o],n=t?.amount;let a=(0,i.injectVariablesToHTML)('<div class="go-back-header"> <h4 class="go-back-header-heading"><img class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"></h4> </div> <div class="content"> </div>',".content",'<div class="unlock-coupon-card"> <h4 class="unlock-heading"><img src="https://earthrhythm-media.farziengineer.co/hosted/image_18-9d3e16ad8b72.png"/> <p class="heading-text">₹ 10 Voucher</p> </h4> <h5 class="unlock-title">Rs. 10 off on Striped Silk Blouse</h5> <p class="unlock-desc">The management reserves the right to modify the coupon as they see fit and to adjust the customer\'s wallet if they determine the event.</p> <hr/> <div class="unlock-button-container"> <div class="unlock-text">Unlock for 10 OB Coins</div> <button class="unlock-button">Tap to Unlock</button> </div> </div>');a=(0,i.injectVariablesToHTML)(a,".unlock-heading .heading-text",`${t?.heading}`),a=(0,i.injectVariablesToHTML)(a,".unlock-title",`${t?.title}`),a=(0,i.injectVariablesToHTML)(a,".unlock-text",`Unlock for ${n} OB Coins`);const s=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .overlay_modal");s.innerHTML=a,function(){s.style.height="60%";const e=document.createElement("div");e.innerHTML='<div class="overlay_modal_backdrop"></div>',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").appendChild(e)}(),r.querySelector(".fw_points__overlay .overlay_modal .content .unlock-coupon-card .unlock-button").addEventListener("click",(async function(){const e=await fetch("http://localhost:3000/get-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d,couponAmount:n})}),o=await e.json();r.querySelector(".fw_points__overlay .overlay_modal .content .unlock-coupon-card .unlock-button-container").innerHTML=`\n                        <p class="unlock-text">Use this code at checkout</p>\n                        <div class="revealed-code"><p>${o?.data?.coupon_code}</p><img src="https://earthrhythm-media.farziengineer.co/hosted/Vector-d42544500181.png"/><p class="copied-alert">copied</p></div>\n                        `,r.querySelector(".fw_points__overlay .overlay_modal .content .unlock-coupon-card .revealed-code img").addEventListener("click",(()=>{navigator.clipboard.writeText(o?.data?.coupon_code);const e=r.querySelector(".fw_points__overlay .overlay_modal .content .unlock-coupon-card .revealed-code .copied-alert");e.style.display="block",e.style.padding="12px 16px",setTimeout((()=>{e.style.padding="1px 1px",e.style.display="none"}),1500)}))})),r.querySelector(".fw_points__overlay .overlay_modal .go-back-header .go-back-header-heading").addEventListener("click",(function(){!function(){s.style.height="0%";const e=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .overlay_modal_backdrop");e.parentNode.removeChild(e),s.innerHTML=""}()}))}))}))}f.forEach(((e,o)=>{g+=`\n            <div class="card" data-coupon-idx="${o}">\n                <img data-coupon-idx="${o}"\n                    src="${e?.image}" />\n                <div data-coupon-idx="${o}" class="couponDesc">\n                    <p data-coupon-idx="${o}" class="couponDesc-text">${e?.title}</p>\n                    <div data-coupon-idx="${o}" class="couponValue"><span class="coins-icon"></span>\n                        <p>${e?.amount}</p>\n                    </div>\n                    <div data-coupon-idx="${o}" class="floating-label">${e?.label}</div>\n                </div>\n            </div>\n            `})),v=(0,i.injectVariablesToHTML)(v,".couponCodes .cardContainer.cardRow",g),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=v,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .cardWrapper.points").addEventListener("click",(function(){let o="";p?.data?.data?.wallet?.logs?.edges?.forEach((e=>{let t,n;"ADD"===e.node.type?(t="+",n="green"):(t="-",n="red"),o+=`\n                <div class="dropDown removeBanner">\n                        <div class="dropDown__content">\n                            <div class="pointsRow">\n                            <div class="pointsRow_reason">\n                            <p class="pointsRow_reason_title" >${e.node.reason}</p>\n                            <p style="color:${n};font-weight:600">${t}${e.node.amount} points</p>\n                            </div>\n                            \n                            <p class="">${new Date(e.node.created)?.toISOString()?.split("T")?.[0]}</p>\n                            </div>\n                        </div>\n                    </div>\n                `}));const n=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="pointsActivityContainer"><h4>Points activity</h4>${o}</div>`);r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=n,r.querySelector(".fw_points__overlay .full_height_overlay_modal .go-back-header .go-back-header-heading").addEventListener("click",(function(){t()}))})),m(),function n(){r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .couponCodes .viewAllCoupons").addEventListener("click",(function a(){let s="";f.forEach(((e,o)=>{s+=`\n            <div class="card" data-coupon-idx="${o}">\n                <img data-coupon-idx="${o}"\n                    src="${e?.image}" />\n                <div data-coupon-idx="${o}" class="couponDesc">\n                    <p data-coupon-idx="${o}" class="couponDesc-text">${e?.title}</p>\n                    <div data-coupon-idx="${o}" class="couponValue"><span class="coins-icon"></span>\n                        <p>${e?.amount}</p>\n                    </div>\n                    <div data-coupon-idx="${o}" class="floating-label">${e?.label}</div>\n                </div>\n            </div>\n            `}));let l=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",'<div class="couponsScreenContainer"><h4>Coupons</h4>\n                <div> <div class="top-head"> <div class="top-head-tabs"> <p class="active-tab" id="available-coupons-screen">Available</p> <p id="your-coupons-screen">Your Coupons</p> </div> <div class="top-head-points"> <span class="coins-icon"></span> <p class="points-wrapper">0</p> </div> </div> <div class="couponCodes"> <div class="cardContainer"> <div class="rowHead"> <p>Featured Coupons</p> </div> </div> <div class="cardContainer cardRow"> </div> </div> <div class="redeemCustomCoins"> <div class="cardContainer"> <div class="rowHead"> <p>Redeem OB Coins</p> </div> </div> <div class="cardContainer cardRow"> <div class="redeemCustomCoinsCard"> <div><img class="redeemCustomCoinsImg" src="https://earthrhythm-media.farziengineer.co/hosted/image_18-9d3e16ad8b72.png"/></div> <div class="redeemCustomCoinsText"> <h5>100 OB Coins = ₹100</h5> <p>Use OB Coins to create a custom discount coupon</p> </div> <div><img class="redeemCustomArrow" src="https://earthrhythm-media.farziengineer.co/hosted/Vector_1-4240429cd14f.png"/></div> </div> </div> </div> <div class="redeemCoins"> <div class="cardContainer"> <div class="rowHead"> <p>Coupons to Explore</p> </div> </div> <div class="cardContainer cardRow"> <div class="redeemCoinsCard"> <div class="redeemCoinsImg"><img src="https://earthrhythm-media.farziengineer.co/hosted/Group_69-868d6d7d521f.png"/></div> <div class="redeemCoinsText"> <h5>Free Delivery</h5> <p>Unlock for <span class="coins-icon"></span> 10</p> </div> </div> </div> <div class="cardContainer cardRow"> <div class="redeemCoinsCard"> <div class="redeemCoinsImg"><img src="https://earthrhythm-media.farziengineer.co/hosted/Group_70-a3ec435865d6.png"/></div> <div class="redeemCoinsText"> <h5>Shopping Voucher worth Rs. 500</h5> <p>Unlock for <span class="coins-icon"></span> 10</p> </div> </div> </div> </div> </div> <div class="overlay_modal"> </div></div>');l=(0,i.injectVariablesToHTML)(l,".top-head .top-head-points .points-wrapper",`${_}`),l=(0,i.injectVariablesToHTML)(l,".couponCodes .cardContainer.cardRow",s),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=l,m();const p=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),h=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");p.addEventListener("click",(()=>{h.classList.remove("active-tab"),p.classList.add("active-tab"),n()})),h.addEventListener("click",(async function n(){let s=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Coupons</h4>\n                ${o}</div>`);s=(0,i.injectVariablesToHTML)(s,".top-head .top-head-points .points-wrapper",`${_}`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=s;const l=await fetch("http://localhost:3000/get-user-coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),h=p?.data?.unlocked;let u="";h?.length>0?h.forEach((e=>{u+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):u='\n                        <div class="no-coupons-found">\n                            <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                            <div><h5>Uh-Oh!</h5></div>\n                            <div><p>Looks like you haven\'t unlocked any coupons</p></div>\n                        </div>\n                        ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=u;const f=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");f.classList.remove("active-tab"),v.classList.add("active-tab"),f.addEventListener("click",(()=>{r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen").className="",f.className="active-tab",a()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-unlocked").addEventListener("click",(()=>n()));const g=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-redeemed");g.addEventListener("click",(()=>{const e=p?.data?.redeemed;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any redeemed coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),g.classList.add("active-coupons-tab")}));const m=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-gifted");m.addEventListener("click",(()=>{const e=p?.data?.gifted;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any gifted coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),m.classList.add("active-coupons-tab")}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()}))}))}(),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .gameArena #gameArenacard-wheelOfFortune .gameArenaBtn").addEventListener("click",(async function s(){let l=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Wheel of Fortune</h4>\n                ${n}</div>`);l=(0,i.injectVariablesToHTML)(l,".top-head .top-head-points .points-wrapper",`${_}`);const p=await fetch("http://localhost:3000/get-featured-spin-wheels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),h=await p.json(),u=h?.data;let f="";u.forEach(((e,o)=>{f+=`\n                    <div data-spin-wheel-idx="${o}" class="gameArenacard">\n                        <img data-spin-wheel-idx="${o}" src="${e?.image}" />\n                        <div data-spin-wheel-idx="${o}" class="gameArenaDesc">\n                            <p data-spin-wheel-idx="${o}" class="gameArenaDesc-title">${e?.title}</p>\n                            <p data-spin-wheel-idx="${o}" class="gameArenaDesc-subtitle">${e?.description}</p>\n                            <div data-spin-wheel-idx="${o}" class="gameArenaDescValue"><span class="coins-icon"></span>\n                                <p data-spin-wheel-idx="${o}">${e?.amount}</p>\n                            </div>\n                            <div data-spin-wheel-idx="${o}" class="gameArenaBtn">Spin</div>\n                        </div>\n                    </div>\n                    `})),l=(0,i.injectVariablesToHTML)(l,".spinWheels .cardContainer.cardRow",f),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=l,r.querySelectorAll(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .spinWheels .gameArenacard").forEach((e=>{e.addEventListener("click",(async function e(o,t){const n=o?.target?.getAttribute("data-spin-wheel-idx")||t,l=n&&u[n],p=l?.amount;let h=(0,i.injectVariablesToHTML)('<div class="go-back-header"> <h4 class="go-back-header-heading"><img class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"></h4> </div> <div class="content"> <div class="couponsScreenContainer playArea"> <div class="top-head"> <div class="top-head-points"> <span class="coins-icon"></span> <p class="points-wrapper">0</p> </div> </div> <div class="spinWheelHeading"> <h4>Spin and Win</h4> </div> <div id="fw-chart-spin-wheel" class="locked-wheel"> <img class="locked-spin" src="https://earthrhythm-media.farziengineer.co/hosted/material-symbols_lock-bd52e0f1d47b.png"/> </div> <div class="spin-wheel-bottom"> <hr class="divider-line"/> <div class="unlock-wheel-text">Unlock for 10 OB Coins</div> <button class="unlock-spin-wheel-btn">Tap to unlock</button> </div> <div class="spinned-win-modal-container"> <div class="spinned-win-modal"> <h3>Congratulations!</h3> <p>You won</p> <h3 class="spin-win-message">50 OB Coins</h3> <div class="spin-win-play-again"><button>Play Again</button></div> <div class="spin-win-close"><button>close</button></div> </div> </div> <style>.fw_points__overlay #fw-chart-spin-wheel{width:100%;height:auto;min-height:250px;position:relative;transform:rotate(-90deg)}.fw_points__overlay #fw-chart-spin-wheel.locked-wheel svg{opacity:.3}.fw_points__overlay #fw-chart-spin-wheel.locked-wheel img{position:absolute;top:28%;left:25%;transform:rotate(90deg);z-index:99}.fw_points__overlay text[text-anchor=end]{fill:#fff;stroke:#fff;stroke-width:.4px;font-size:14px}.fw_points__overlay text{cursor:pointer}.fw_points__overlay .spin-wheel-bottom{padding:20px}.fw_points__overlay .divider-line{border:none;height:1px;background:repeating-linear-gradient(90deg,#000,#000 6px,transparent 6px,transparent 12px)}.fw_points__overlay .unlock-wheel-text{font-weight:700;font-size:16px;margin:12px 0;text-align:center}.fw_points__overlay .unlock-spin-wheel-btn{background:#000;color:#fff;padding:11px 0;border-radius:8px;font-family:Inter,sans-serif;font-weight:700;cursor:pointer;width:100%;font-size:14px}.fw_points__overlay .spinned-win-modal-container{position:absolute;width:100%;height:0%;overflow:hidden;transition:height .5s ease;top:0;left:0;background:#ffffff7d;display:flex;justify-content:center;align-items:center}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal{background:#000;color:#fff;padding:30px 25px;box-shadow:0 -4px 24px rgba(0,0,0,.12);border-radius:12px}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal h3{margin:18px 0;font-size:18px;text-align:center}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal .spin-win-message{font-size:20px}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal>div,.fw_points__overlay .spinned-win-modal-container .spinned-win-modal>p{text-align:center}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal .spin-win-play-again button{width:100%;background:#fff;color:#000;font-family:Inter;font-size:14px;font-weight:600;padding:10px;border-radius:4px;cursor:pointer}.fw_points__overlay .spinned-win-modal-container .spinned-win-modal .spin-win-close button{color:#fff;background:#000;border:0;font-size:14px;font-weight:500;padding:5px;margin:10px;cursor:pointer}</style> </div> </div>',".top-head .top-head-points .points-wrapper",`${_}`);h=(0,i.injectVariablesToHTML)(h,".spin-wheel-bottom .unlock-wheel-text",`Unlock for ${p} OB Coins`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .full_height_overlay_modal").innerHTML=h;const f=await fetch("https://d3js.org/d3.v3.min.js"),v=await f.text();var g=document.createElement("script");g.innerHTML=v,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .full_height_overlay_modal .content .playArea").appendChild(g),a(r,Array.from({length:6},(()=>({label:"",value:5}))),!1),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-spin-wheel-btn").addEventListener("click",(async()=>{const o=await fetch("http://localhost:3000/redeem-spin-wheel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d,couponAmount:p})}),t=await o.json(),i=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-spin-wheel svg");i.parentNode.removeChild(i),a(r,Array.from({length:6},(()=>({label:t?.data?.win_message,value:5}))),!0,(()=>{setTimeout((function(){r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .spinned-win-modal-container .spin-win-message").innerHTML=t?.data?.win_message,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .spinned-win-modal-container").style.height="100%",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .spinned-win-modal-container .spin-win-play-again button").addEventListener("click",(()=>{e(null,n)})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .spinned-win-modal-container .spin-win-close button").addEventListener("click",(()=>{s()}))}),1e3)})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-spin-wheel img").style.display="none",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-spin-wheel svg").style.opacity=1,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-wheel-text").innerHTML="Click 'SPIN' to start",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-spin-wheel-btn").style.display="none"})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{s()}))}))}));const v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),g=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");v.addEventListener("click",(()=>{g.classList.remove("active-tab"),v.classList.add("active-tab"),s()})),g.addEventListener("click",(async function n(){let a=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Coupons</h4>\n                ${o}</div>`);a=(0,i.injectVariablesToHTML)(a,".top-head .top-head-points .points-wrapper",`${_}`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=a;const l=await fetch("http://localhost:3000/get-user-coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),h=p?.data?.unlocked;let u="";h?.length>0?h.forEach((e=>{u+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):u='\n                        <div class="no-coupons-found">\n                            <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                            <div><h5>Uh-Oh!</h5></div>\n                            <div><p>Looks like you haven\'t unlocked any coupons</p></div>\n                        </div>\n                        ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=u;const f=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");f.classList.remove("active-tab"),v.classList.add("active-tab"),f.addEventListener("click",(()=>{r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen").className="",f.className="active-tab",s()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-unlocked").addEventListener("click",(()=>n()));const g=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-redeemed");g.addEventListener("click",(()=>{const e=p?.data?.redeemed;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any redeemed coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),g.classList.add("active-coupons-tab")}));const m=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-gifted");m.addEventListener("click",(()=>{const e=p?.data?.gifted;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any gifted coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),m.classList.add("active-coupons-tab")}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .gameArena #gameArenacard-scratchCard .gameArenaBtn").addEventListener("click",(async function a(){let s=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Scratch Card</h4>\n                ${n}</div>`);s=(0,i.injectVariablesToHTML)(s,".top-head .top-head-points .points-wrapper",`${_}`);const l=await fetch("http://localhost:3000/get-featured-scratch-cards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),h=p?.data;let u="";h.forEach(((e,o)=>{u+=`\n                    <div data-scratch-card-idx="${o}" class="gameArenacard">\n                        <img data-scratch-card-idx="${o}" src="${e?.image}" />\n                        <div data-scratch-card-idx="${o}" class="gameArenaDesc">\n                            <p data-scratch-card-idx="${o}" class="gameArenaDesc-title">${e?.title}</p>\n                            <p data-scratch-card-idx="${o}" class="gameArenaDesc-subtitle">${e?.description}</p>\n                            <div data-scratch-card-idx="${o}" class="gameArenaDescValue"><span class="coins-icon"></span>\n                                <p data-scratch-card-idx="${o}">${e?.amount}</p>\n                            </div>\n                            <div data-scratch-card-idx="${o}" class="gameArenaBtn">Scratch</div>\n                        </div>\n                    </div>\n                    `})),s=(0,i.injectVariablesToHTML)(s,".spinWheels .cardContainer.cardRow",u),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=s,r.querySelectorAll(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .spinWheels .gameArenacard").forEach((e=>{e.addEventListener("click",(async function e(o,t){const n=o?.target?.getAttribute("data-scratch-card-idx")||t,s=n&&h[n],l=s?.amount;let p=(0,i.injectVariablesToHTML)('<div class="go-back-header"> <h4 class="go-back-header-heading"><img class="close" src="https://earthrhythm-media.farziengineer.co/hosted/icons8-multiply-50-c78740eccab9.png" alt="close header" width="30px"></h4> </div> <div class="content"> <div class="couponsScreenContainer playArea"> <div class="top-head"> <div class="top-head-points"> <span class="coins-icon"></span> <p class="points-wrapper">0</p> </div> </div> <div class="scratchCardHeading"> <h4>Scratch and Win</h4> </div> <div id="fw-chart-scratch-card" class="locked-card"> <img class="locked-scratch" src="https://earthrhythm-media.farziengineer.co/hosted/material-symbols_lock-bd52e0f1d47b.png"/> <div class="scratch-card-container"> <div class="scratch-card-base"> <h4>10 OB Coins</h4> </div> <canvas id="scratch-card-element" width="300" height="300"></canvas> </div> </div> <div class="scratch-card-bottom"> <hr class="divider-line"/> <div class="unlock-card-text">Unlock for 10 OB Coins</div> <button class="unlock-scratch-card-btn">Tap to unlock</button> </div> <div class="scratched-win-modal-container"> <div class="scratched-win-modal"> <h3>Congratulations!</h3> <p>You won</p> <h3 class="scratch-win-message">50 OB Coins</h3> <div class="scratch-win-play-again"><button>Play Again</button></div> <div class="scratch-win-close"><button>close</button></div> </div> </div> <style>.fw_points__overlay #fw-chart-scratch-card{width:100%;height:auto;min-height:250px;position:relative}.fw_points__overlay #fw-chart-scratch-card.locked-card>div{opacity:.7}.fw_points__overlay #fw-chart-scratch-card.locked-card img{position:absolute;top:15%;left:25%;z-index:99}.fw_points__overlay text[text-anchor=end]{fill:#fff;stroke:#fff;stroke-width:.4px;font-size:14px}.fw_points__overlay text{cursor:pointer}.fw_points__overlay .scratch-card-bottom{padding:20px;margin-top:30px}.fw_points__overlay .divider-line{border:none;height:1px;background:repeating-linear-gradient(90deg,#000,#000 6px,transparent 6px,transparent 12px)}.fw_points__overlay .unlock-card-text{font-weight:700;font-size:16px;margin:12px 0;text-align:center}.fw_points__overlay .unlock-scratch-card-btn{background:#000;color:#fff;padding:11px 0;border-radius:8px;font-family:Inter,sans-serif;font-weight:700;cursor:pointer;width:100%;font-size:14px}.fw_points__overlay .scratched-win-modal-container{position:absolute;width:100%;height:0%;overflow:hidden;transition:height .5s ease;top:0;left:0;background:#ffffff7d;display:flex;justify-content:center;align-items:center}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal{background:#000;color:#fff;padding:30px 25px;box-shadow:0 -4px 24px rgba(0,0,0,.12);border-radius:12px}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal h3{margin:18px 0;font-size:18px;text-align:center}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal .scratch-win-message{font-size:20px}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal>div,.fw_points__overlay .scratched-win-modal-container .scratched-win-modal>p{text-align:center}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal .scratch-win-play-again button{width:100%;background:#fff;color:#000;font-family:Inter;font-size:14px;font-weight:600;padding:10px;border-radius:4px;cursor:pointer}.fw_points__overlay .scratched-win-modal-container .scratched-win-modal .scratch-win-close button{color:#fff;background:#000;border:0;font-size:14px;font-weight:500;padding:5px;margin:10px;cursor:pointer}.fw_points__overlay .scratch-card-container{width:100%;height:auto;background-color:#f5f5f5;border-radius:14px;margin-top:40px}.fw_points__overlay #scratch-card-element,.fw_points__overlay .scratch-card-base{height:300px;width:300px;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;text-align:center;cursor:grabbing;border-radius:.3em}.fw_points__overlay .scratch-card-base{background-color:#fff;font-family:Poppins,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 1.2em 2.5em rgba(16,2,96,.15)}.fw_points__overlay .scratch-card-base h3{font-weight:600;font-size:1.5em;color:#17013b}.fw_points__overlay .scratch-card-base h4{font-weight:400;color:#746e7e}.fw_points__overlay #scratch-card-element{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}</style> </div> </div>',".top-head .top-head-points .points-wrapper",`${_}`);p=(0,i.injectVariablesToHTML)(p,".scratch-card-bottom .unlock-card-text",`Unlock for ${l} OB Coins`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .full_height_overlay_modal").innerHTML=p,function(){let e=r.getElementById("scratch-card-element").getContext("2d");window.onload=(()=>{let o=e.createLinearGradient(0,0,135,135);o.addColorStop(0,"#AEE7FF"),o.addColorStop(1,"#AEE7FF"),e.fillStyle=o,e.fillRect(0,0,300,300),e.fillStyle="#94DDFF";for(let o=0;o<6;o++)for(let t=0;t<6;t++){const n=30+45*t,a=30+45*o;e.beginPath(),e.arc(n,a,5,0,2*Math.PI),e.fill()}})()}(),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-scratch-card-btn").addEventListener("click",(async()=>{const o=await fetch("http://localhost:3000/redeem-scratch-card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d,couponAmount:l})}),t=await o.json();r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-scratch-card .scratch-card-base h4").innerHTML=t?.data?.win_message,function(){let o=r.getElementById("scratch-card-element"),i=o.getContext("2d"),s=0,c=0,d=!1,l={mouse:{down:"mousedown",move:"mousemove",up:"mouseup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"}},p="";const _=()=>{try{return document.createEvent("TouchEvent"),p="touch",!0}catch(e){return p="mouse",!1}};let h=o.getBoundingClientRect().left,u=o.getBoundingClientRect().top;const f=e=>{s=(_()?e.touches[0].pageX:e.pageX)-h,c=(_()?e.touches[0].pageY:e.pageY)-u};_(),o.addEventListener(l[p].down,(e=>{d=!0,f(e),g(s,c)})),o.addEventListener(l[p].move,(e=>{_()||e.preventDefault(),d&&(f(e),g(s,c))})),o.addEventListener(l[p].up,(()=>{d=!1})),o.addEventListener("mouseleave",(()=>{d=!1}));let v=0;const g=(s,c)=>{i.globalCompositeOperation="destination-out",i.beginPath(),i.arc(s,c,12,0,2*Math.PI),i.fill();const d=o.width/2,l=o.height/2;Math.sqrt((s-d)**2+(c-l)**2)<=200&&v++,v>=460&&(r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .scratched-win-modal-container .scratch-win-message").innerHTML=t?.data?.win_message,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .scratched-win-modal-container").style.height="100%",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .scratched-win-modal-container .scratch-win-play-again button").addEventListener("click",(()=>{e(null,n)})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .scratched-win-modal-container .scratch-win-close button").addEventListener("click",(()=>{a()})))};window.onload=(()=>{let e=i.createLinearGradient(0,0,135,135);e.addColorStop(0,"#AEE7FF"),e.addColorStop(1,"#AEE7FF"),i.fillStyle=e,i.fillRect(0,0,300,300),i.fillStyle="#94DDFF";for(let e=0;e<6;e++)for(let o=0;o<6;o++){const t=30+45*o,n=30+45*e;i.beginPath(),i.arc(t,n,5,0,2*Math.PI),i.fill()}})()}(),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-scratch-card img").style.display="none",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea #fw-chart-scratch-card > div").style.opacity=1,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-card-text").innerHTML="Click and drag your cursor across the card",r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .playArea .unlock-scratch-card-btn").style.display="none"})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{a()}))}))}));const f=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");f.addEventListener("click",(()=>{v.classList.remove("active-tab"),f.classList.add("active-tab"),showSpinWheels()})),v.addEventListener("click",(async function n(){let s=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Coupons</h4>\n                ${o}</div>`);s=(0,i.injectVariablesToHTML)(s,".top-head .top-head-points .points-wrapper",`${_}`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=s;const l=await fetch("http://localhost:3000/get-user-coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),h=p?.data?.unlocked;let u="";h?.length>0?h.forEach((e=>{u+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):u='\n                        <div class="no-coupons-found">\n                            <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                            <div><h5>Uh-Oh!</h5></div>\n                            <div><p>Looks like you haven\'t unlocked any coupons</p></div>\n                        </div>\n                        ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=u;const f=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");f.classList.remove("active-tab"),v.classList.add("active-tab"),f.addEventListener("click",(()=>{r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen").className="",f.className="active-tab",a()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-unlocked").addEventListener("click",(()=>n()));const g=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-redeemed");g.addEventListener("click",(()=>{const e=p?.data?.redeemed;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any redeemed coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),g.classList.add("active-coupons-tab")}));const m=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-gifted");m.addEventListener("click",(()=>{const e=p?.data?.gifted;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any gifted coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),m.classList.add("active-coupons-tab")}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay .gameArena #gameArenacard-lottery .gameArenaBtn").addEventListener("click",(async function a(){let s=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Lotto Quiz</h4>\n                ${n}</div>`);s=(0,i.injectVariablesToHTML)(s,".top-head .top-head-points .points-wrapper",`${_}`);let l="";[{title:"Lotto Quiz",description:"Win upto 30 OB Coins",image:"https://earthrhythm-media.farziengineer.co/hosted/image_10-18d83e52d14a.png",amount:10}].forEach(((e,o)=>{l+=`\n                    <div data-scratch-card-idx="${o}" class="gameArenacard">\n                        <img data-scratch-card-idx="${o}" src="${e?.image}" />\n                        <div data-scratch-card-idx="${o}" class="gameArenaDesc">\n                            <p data-scratch-card-idx="${o}" class="gameArenaDesc-title">${e?.title}</p>\n                            <p data-scratch-card-idx="${o}" class="gameArenaDesc-subtitle">${e?.description}</p>\n                            <div data-scratch-card-idx="${o}" class="gameArenaDescValue"><span class="coins-icon"></span>\n                                <p data-scratch-card-idx="${o}">${e?.amount}</p>\n                            </div>\n                            <div data-scratch-card-idx="${o}" class="gameArenaBtn" style="cursor: not-allowed;">Coming soon</div>\n                        </div>\n                    </div>\n                    `})),s=(0,i.injectVariablesToHTML)(s,".spinWheels .cardContainer.cardRow",l),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=s;const p=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),h=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");p.addEventListener("click",(()=>{h.classList.remove("active-tab"),p.classList.add("active-tab"),a()})),h.addEventListener("click",(async function n(){let s=(0,i.injectVariablesToHTML)(e,".full_height_overlay_modal .content",`<div class="couponsScreenContainer"><h4>Coupons</h4>\n                ${o}</div>`);s=(0,i.injectVariablesToHTML)(s,".top-head .top-head-points .points-wrapper",`${_}`),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .fw_points__overlay").innerHTML=s;const l=await fetch("http://localhost:3000/get-user-coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:c,user_hash:d})}),p=await l.json(),h=p?.data?.unlocked;let u="";h?.length>0?h.forEach((e=>{u+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):u='\n                        <div class="no-coupons-found">\n                            <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                            <div><h5>Uh-Oh!</h5></div>\n                            <div><p>Looks like you haven\'t unlocked any coupons</p></div>\n                        </div>\n                        ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=u;const f=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #available-coupons-screen"),v=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen");f.classList.remove("active-tab"),v.classList.add("active-tab"),f.addEventListener("click",(()=>{r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .top-head-tabs #your-coupons-screen").className="",f.className="active-tab",a()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-unlocked").addEventListener("click",(()=>n()));const g=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-redeemed");g.addEventListener("click",(()=>{const e=p?.data?.redeemed;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any redeemed coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),g.classList.add("active-coupons-tab")}));const m=r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead #coupon-tab-gifted");m.addEventListener("click",(()=>{const e=p?.data?.gifted;let o="";e?.length>0?e.forEach((e=>{o+=`<div class="couponsContentCard">\n                                <div class="couponsContentImg">\n                                    <h5>₹${e?.amount}</h5>\n                                    <p>Voucher</p>\n                                </div>\n                                <div class="couponsContentText">\n                                    <h5>${e?.title}</h5>\n                                    <p>code viewed on ${e?.date}</p>\n                                </div>\n                            </div>`})):o='\n                            <div class="no-coupons-found">\n                                <div><img src="https://earthrhythm-media.farziengineer.co/hosted/image_24-c96b6aaf23b2.png"/></div>\n                                <div><h5>Uh-Oh!</h5></div>\n                                <div><p>Looks like you don\'t have any gifted coupons</p></div>\n                            </div>\n                            ',r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .couponsContent").innerHTML=o,r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .couponsScreenContainer .couponCodes .tabHead .active-coupons-tab").classList.remove("active-coupons-tab"),m.classList.add("active-coupons-tab")}))})),r.querySelector(".fw_points.XXsnipcss_extracted_selector_selectionXX .full_height_overlay_modal .go-back-header .close").addEventListener("click",(()=>{t()}))}))}}})()})();